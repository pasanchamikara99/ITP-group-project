{% extends 'baseNavbar.html' %}



{% block content %}


<div class="leaves">
    <div class="chart">
        <h4>Annual Leaves</h4>
        <canvas id="myChart" width="400" height="400"></canvas>
        <script>
            const ctx = document.getElementById('myChart').getContext('2d');
            const myChart = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ["Avaliable", "Taken"],
                    datasets: [{
                        label: '',
                        data: [20 - {{ count }}, {{ count }}],
                backgroundColor: [
                    'rgba(255, 99, 132, 0.2)',
                    'rgba(54, 162, 235, 0.2)',
                    'rgba(255, 206, 86, 0.2)',
                    'rgba(75, 192, 192, 0.2)',
                    'rgba(153, 102, 255, 0.2)',
                    'rgba(255, 159, 64, 0.2)'
                ],
                borderColor: [
                    'rgba(255, 99, 132, 1)',
                    'rgba(54, 162, 235, 1)',
                    'rgba(255, 206, 86, 1)',
                    'rgba(75, 192, 192, 1)',
                    'rgba(153, 102, 255, 1)',
                    'rgba(255, 159, 64, 1)'
                ],
                borderWidth: 1
            }]
                },
            options: {
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
            });
        </script>
    </div>


    <div class="wrapper">
        <h2>Apply Leave</h2>
        <div class="content">
            <form action="applyleave" method="post" novalidate>
                {%csrf_token%}
                <input name="empid" type="hidden" value="{{empid}}" required>
                <label for="">Select Date</label>
                <input class="form-control" type="date" name="date" required>
                <label for="">Reason</label>
                <textarea rows="5" name="reason" placeholder="Enter your reason" required></textarea>
                <label for="">Leave Type</label>
                <select name="leavetype" required>
                    {% for leave in leaveType %}
                    <option value="{{leave.leave_type}}">{{leave.leave_type}}</option>
                    {% endfor %}
                    <input type="submit" id="leavebtn" value="Submit">
            </form>
        </div>
    </div>
    

</div>










{% endblock %}